webpackJsonp([1],{108:function(t,e){},109:function(t,e){},110:function(t,e){},111:function(t,e){},112:function(t,e){},113:function(t,e){},115:function(t,e,a){function n(t){a(108)}var s=a(5)(a(70),a(120),n,"data-v-014118be",null);t.exports=s.exports},116:function(t,e,a){function n(t){a(110)}var s=a(5)(a(71),a(122),n,"data-v-27d49b66",null);t.exports=s.exports},117:function(t,e,a){function n(t){a(113)}var s=a(5)(a(72),a(125),n,"data-v-ba475aaa",null);t.exports=s.exports},118:function(t,e,a){function n(t){a(111)}var s=a(5)(a(73),a(123),n,"data-v-6d00f4df",null);t.exports=s.exports},119:function(t,e,a){function n(t){a(109)}var s=a(5)(a(74),a(121),n,"data-v-26f7728b",null);t.exports=s.exports},120:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),a("li",[a("a",{attrs:{"data-lang-loginout":"你确定要退出吗"},on:{click:function(e){t.logout()}}},[a("i",{staticClass:"fa fa-sign-out text-md nav-menu-icon"}),t._v(" 退出\n    ")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:""}},[a("i",{staticClass:"fa fa-user-circle text-md nav-menu-icon"}),t._v(" 个人中心\n    ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:""}},[a("i",{staticClass:"fa fa-edit text-md nav-menu-icon"}),t._v(" 日志\n    ")])])}]}},121:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"panel panel-default"},[t._m(0),t._v(" "),a("div",{staticClass:"panel-body"},[a("form",{attrs:{method:"POST","accept-charset":"UTF-8","data-vv-scope":"form"},on:{submit:function(e){e.preventDefault(),t.validateForm("form")}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"name"}},[t._v("头像")]),t._v(" "),a("div",{staticClass:"form-group"},[a("img",{attrs:{src:t.$route.query.image_url,width:"100%"}})])]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.errors.has("form.name")}},[a("label",{staticClass:"control-label",attrs:{for:"name"}},[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("form.name"),expression:"errors.has('form.name')"}],staticClass:"help-block"},[t._v(t._s(t.errors.first("form.name")))])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"github_name"}},[t._v("Github Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.github_name,expression:"github_name"}],staticClass:"form-control",attrs:{readonly:"readonly",name:"github_name",type:"text"},domProps:{value:t.github_name},on:{input:function(e){e.target.composing||(t.github_name=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.errors.has("form.email")}},[a("label",{staticClass:"control-label",attrs:{for:"email"}},[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{name:"email",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("form.email"),expression:"errors.has('form.email')"}],staticClass:"help-block"},[t._v(t._s(t.errors.first("form.email")))])]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.errors.has("form.password")}},[a("label",{staticClass:"control-label",attrs:{for:"password"}},[t._v("密 码")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"},{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{name:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("form.password"),expression:"errors.has('form.password')"}],staticClass:"help-block"},[t._v(t._s(t.errors.first("form.password")))])]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.errors.has("form.password_confirmation")}},[a("label",{staticClass:"control-label",attrs:{for:"password_confirmation"}},[t._v("确认密码")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"confirmed:password|required",expression:"'confirmed:password|required'"},{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",attrs:{name:"password_confirmation",type:"password"},domProps:{value:t.password_confirmation},on:{input:function(e){e.target.composing||(t.password_confirmation=e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("form.password_confirmation"),expression:"errors.has('form.password_confirmation')"}],staticClass:"help-block"},[t._v(t._s(t.errors.first("form.password_confirmation")))])]),t._v(" "),a("input",{staticClass:"btn btn-lg btn-success btn-block",attrs:{type:"submit",value:"确认"}})])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("创建新用户")])])}]}},122:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-default"},[a("div",{staticClass:"container nav-container"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"navbar-header",class:{"mobile-navbar-header":!t.$store.state.login.user}},[a("router-link",{staticClass:"navbar-brand",staticStyle:{color:"#f36c60","font-weight":"bold","font-size":"22px"},attrs:{to:"/"}},[t._v("\n          Daily\n        ")]),t._v(" "),t.$store.state.login.user?a("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-1","aria-expanded":"false"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"})]):t._e()],1),t._v(" "),t.$store.state.login.user?a("div",{staticClass:"collapse navbar-collapse nav-user-menu nav-mobile-menu",attrs:{id:"bs-example-navbar-collapse-1"}},[a("nav-items",{staticClass:"nav navbar-nav"})],1):t._e(),t._v(" "),a("div",{staticClass:"navbar-right",class:{"nav-user-menu-desktop":t.$store.state.login.user}},[a("ul",{staticClass:"nav navbar-nav github-login nav-right-item"},[t.$store.state.login.user?[a("li",[a("a",{attrs:{href:"#",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",id:"dLabel"}},[a("img",{staticClass:"avatar-topnav",attrs:{src:t.$store.state.login.user.image_url}}),t._v("\n                "+t._s(t.$store.state.login.user.name)+"\n                "),a("span",{staticClass:"caret"})]),t._v(" "),a("nav-items",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu1"}})],1)]:[a("router-link",{staticClass:"btn btn-primary login-btn",attrs:{to:"/auth/login"}},[a("i",{staticClass:"fa fa-user"}),t._v("\n              登录\n            ")])]],2)])])])])},staticRenderFns:[]}},123:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"panel panel-default"},[t._m(0),t._v(" "),a("div",{staticClass:"panel-body"},[a("a",{staticClass:"btn btn-lg btn-default btn-block",attrs:{id:"login-required-submit",href:"/api/auth/oauth"}},[a("i",{staticClass:"fa fa-github-alt"}),t._v(" Github 登录\n        ")])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("登录")])])}]}},124:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"overflow-x":"hidden"},attrs:{id:"app"}},[a("nav-bar"),t._v(" "),a("div",{staticClass:"container main-container"},[a("router-view")],1)],1)},staticRenderFns:[]}},125:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"home"})},staticRenderFns:[]}},25:function(t,e,a){function n(t){a(112)}var s=a(5)(a(69),a(124),n,null,null);t.exports=s.exports},45:function(t,e,a){"use strict";var n=a(24),s=(a.n(n),{zh_CN:{custom:{name:{required:"请填写用户名"},email:{required:"你的邮箱为空",email:"请输入有效的邮箱"},password:{required:"请填写密码",min:"密码不能少于6位"},password_confirmation:{confirmed:"请确保密码一致",required:"请填写密码"}}}});n.Validator.updateDictionary(s)},46:function(t,e,a){"use strict";var n=a(15),s=a(126),r=a(25),o=a.n(r);n.a.use(s.a),e.a=new s.a({mode:"history",routes:[{path:"/",component:o.a.components.Home,name:"index"},{path:"/auth/login",component:o.a.components.Login,name:"login"},{path:"/signup",component:o.a.components.Signup,name:"signup"}]})},47:function(t,e,a){"use strict";var n=a(15),s=a(44),r=a(66),o=a(67),i=a(68);n.a.use(s.c),e.a=new s.c.Store({modules:{count:r.a,login:o.a,signup:i.a}})},65:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(15),s=a(24),r=a.n(s),o=a(9),i=a.n(o),l=a(25),c=a.n(l),u=a(46),m=a(47);a(45);n.a.config.productionTip=!1,n.a.use(r.a,{locale:"zh_CN"}),document.cookie.split(";").forEach(function(t,e,a){"token"!==t.split("=")[0]&&" token"!==t.split("=")[0]||(i.a.defaults.headers.common.Authorization="Bearer"+t.split("=")[1])}),n.a.mixin({data:function(){return{global_data:""}}}),new n.a({el:"#app",router:u.a,axios:i.a,store:m.a,template:"<App/>",components:{App:c.a}})},66:function(t,e,a){"use strict";var n=a(31),s=a.n(n),r={count:0},o={increment:function(t){t.count++},decrement:function(t){t.count--}},i={increment:function(t){(0,t.commit)("increment")},decrement:function(t){(0,t.commit)("decrement")},incrementIfOdd:function(t){var e=t.commit;(t.state.count+1)%2==0&&e("increment")},incrementAsync:function(t){var e=t.commit;return new s.a(function(t,a){setTimeout(function(){e("increment"),t()},1e3)})}},l={evenOrOdd:function(t){return t.count%2==0?"even":"odd"}};e.a={state:r,mutations:o,actions:i,getters:l}},67:function(t,e,a){"use strict";var n=a(9),s=a.n(n),r={time:0,user:null},o={add:function(t){t.time++},user:function(t,e){t.user=e.data}},i={add:function(t){(0,t.commit)("add")},getUserInfo:function(t){var e=t.commit;s.a.defaults.headers.common.Authorization&&s.a.get("/api/user").then(function(t){e("user",t)})}},l={even:function(t){return t.time%2==0?"even":"odd"}};e.a={state:r,mutations:o,actions:i,getters:l}},68:function(t,e,a){"use strict";var n=a(31),s=a.n(n),r=a(9),o=a.n(r),i={data:null},l={signup:function(t,e){t.data=e}},c={signup:function(t,e){return new s.a(function(t,a){o.a.post("/api/signup",{name:e.name,github_id:e.github_id,github_name:e.github_name,image_url:e.image_url,email:e.email,password:e.password}).then(function(e){t(e)}).catch(function(){a()})})}},u={};e.a={state:i,mutations:l,actions:c,getters:u}},69:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(118),s=a.n(n),r=a(117),o=a.n(r),i=a(119),l=a.n(i),c=a(116),u=a.n(c);e.default={name:"app",components:{NavBar:u.a,Login:s.a,Home:o.a,Signup:l.a}}},70:function(t,e,a){"use strict";function n(t){var e=new Date;e.setTime(e.getTime()-1),document.cookie=t+"=;expires="+e.toGMTString()}Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{logout:function(){n("token"),this.$store.state.login.user=null}}}},71:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(115),s=a.n(n);e.default={components:{NavItems:s.a},mounted:function(){this.$store.dispatch("getUserInfo")},data:function(){return{}}}},72:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(44);e.default={computed:a.i(n.a)(["even"]),methods:a.i(n.b)(["add","loadData"]),data:function(){return{msg:"welcome home"}},destroyed:function(){this.$store.state.login.time=0}}},73:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){}}},74:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(9),s=a.n(n);e.default={methods:{validateForm:function(t){var e=this;this.$validator.validateAll(t).then(function(t){t&&e.$store.dispatch("signup",e.$data).then(function(t){document.cookie="token="+t.data,s.a.defaults.headers.common.Authorization="Bearer"+t.data,e.$store.dispatch("getUserInfo"),e.$router.replace("/")})})}},mounted:function(){console.log(this.$store)},data:function(){return{name:this.$route.query.name,github_id:this.$route.query.github_id,github_name:this.$route.query.github_name,image_url:this.$route.query.image_url,email:this.$route.query.email,password:this.$route.query.password,password_confirmation:null}}}}},[65]);
//# sourceMappingURL=app.2d8b42282eadfb4c07c2.js.map